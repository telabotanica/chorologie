<h3>
<?php if($nom_zone_geo != null): ?>
	<?= $nom_zone_geo ?> - 
<?php endif; ?>
<?php if($nombre > 0): ?>
	Liste des taxons
	<?= $debut ?> à <?= min($fin, $nombre_total) ?> sur <?= $nombre_total ?>
	<?php if($lettre != ''): ?>
		commençant par <?= $lettre ?>
	<?php endif; ?>
<?php else: ?>
	Aucun résultat
<?php endif; ?>
</h3>

<label>Cliquer sur une lettre pour faire apparaître la liste des taxons</label>
<br/>
<a href="<?= $url_module ?>&nbParPage=<?= $nbParPage ?>">tous</a>
<?php foreach($lettres as $l): ?>
	<a href="<?= $url_module ?>&nbParPage=<?= $nbParPage ?>&lettre=<?= $l ?>"><?= $l ?></a>
<?php endforeach; ?>

<form method="get" action="<?= $url_base ?>" class="form form-inline">
	<input type="hidden" value="<?= $module ?>" name="module" />
	<input type="hidden" value="<?= $lettre ?>" name="lettre" />
	<input type="hidden" value="<?= $zone_geo ?>" name="zone-geo" />
	<input type="hidden" value="<?= $nom_zone_geo ?>" name="nom-zone-geo" />
	<div id="paginateur">
		Page
		<?= $paginateur ?>
		<div class="form-group">
			- afficher
			<select id="select-nb-par-page" name="nbParPage" class="form-control">
				<option value="">tout</option>
				<?php foreach($tailles_page as $tp): ?>
				<option
					<?php if($nbParPage == $tp): ?>selected<?php endif; ?> value="<?= $tp ?>">
					par <?= $tp ?>
				</option>
				<?php endforeach; ?>
			</select>
		</div>
	</div>
</form>

<span class="indication">Cliquez sur le nom pour faire apparaître la carte de répartition</span>
<br/>

<table class="table">
	<thead>
		<tr>
			<td>
				<?php if($tri == "nom_sci") { ?>
					Nom latin
					<a href="<?= $url_module_sans_tri.'&tri=nom_sci&ordre='.$ordre_tri_inverse; ?>"><span class="glyphicon glyphicon-chevron-<?= ($ordre == "ASC") ? "up" : "down" ?>"></span>&nbsp</a>
				<?php } else { ?>
					<a title="Cliquez pour trier sur cette colonne" href="<?= $url_module_sans_tri.'&tri=nom_sci&ordre=ASC' ?>">Nom latin</a>
				<? } ?>
			</td>
			<td>
				<?php if($tri == "nom_commun") { ?>
					Nom vernaculaire
					<a href="<?= $url_module_sans_tri.'&tri=nom_commun&ordre='.$ordre_tri_inverse; ?>"><span class="glyphicon glyphicon-chevron-<?= ($ordre == "ASC") ? "up" : "down" ?>"></span>&nbsp</a>
				<?php } else { ?>
					<a title="Cliquez pour trier sur cette colonne" href="<?= $url_module_sans_tri.'&tri=nom_commun&ordre=ASC' ?>">Nom vernaculaire</a>
				<? } ?>
			</td>
			<td>
				<?php if($tri == "num_nom") { ?>
					Lien vers eFlore
					<a href="<?= $url_module_sans_tri.'&tri=num_nom&ordre='.$ordre_tri_inverse; ?>"><span class="glyphicon glyphicon-chevron-<?= ($ordre == "ASC") ? "up" : "down" ?>"></span>&nbsp</a>
				<?php } else { ?>
					<a title="Cliquez pour trier sur cette colonne" href="<?= $url_module_sans_tri.'&tri=num_nom&ordre=ASC' ?>">Lien vers eFlore</a>
				<? } ?>
			</td>
		</tr>
	</thead>
	<tbody>
		<?php foreach($taxons as $taxon): ?>
		<tr>
			<td>
				<a href="<?= $url_base ?>?module=carte-taxon&taxon=<?= $taxon['num_nom'] ?>&nom-sci=<?= $taxon['nom_sci'] ?>">
					<?= $taxon['nom_sci'] ?>
				</a>
				<?php if($taxon['presence'] == '1?'): ?>
					(à confirmer)
				<?php endif; ?>
			</td>
			<td>
				<?= $taxon['nom_commun'] ?>
			</td>
			<td>
				<a href="<?= $url_base_eflore_bdtfx ?><?= $taxon['num_nom'] ?>">BDTFXnn<?= $taxon['num_nom'] ?></a>
			</td>
		</tr>
		<?php endforeach; ?>
	</tbody>
</table>

<script type="text/javascript">
	$(document).trigger('liste-taxons_charge');
</script>